<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">

    <title>{{#if singleResult}}One result{{else}}{{resultsCount}} results{{/if}} | Microsoft Careers</title>

    {{{analytics}}}
    {{{externalResources}}}
    <link rel="stylesheet" href="/static/style.css">
    <script defer src="/static/script.js"></script>
  </head>

  <body>
    <header id="header">
      <a href="https://microsoft.com" target="_blank" id="header-logo" style="opacity: 0">
        <span id="ms-logo-nw"></span>
        <span id="ms-logo-ne"></span>
        <span id="ms-logo-sw"></span>
        <span id="ms-logo-se"></span>
      </a>

      <h1 id="header-text" class="ms-fontColor-neutralLight">
        <span id="header-text-init" style="opacity: 0">{{JOBS_COUNT}} openings</span>
        <span id="header-text-name" style="width: 0">Careers</span>
      </h1>

      <div class="flex-spacer"></div>

      <ul id="header-brands" class="header-brands-init">
        <li><a class="ms-Icon ms-Icon--AzureLogo" target="_blank" href="https://azure.com" aria-hidden="true"></a></li>
        <li><a class="ms-Icon ms-Icon--BingLogo" target="_blank" href="https://bing.com" aria-hidden="true"></a></li>
        <li><a class="ms-Icon ms-Icon--MSNLogo" target="_blank" href="https://msn.com" aria-hidden="true"></a></li>
        <li><a class="ms-Icon ms-Icon--OfficeLogo" target="_blank" href="https://office.com" aria-hidden="true"></a>
        </li>
        <li><a class="ms-Icon ms-Icon--OneDriveLogo" target="_blank" href="https://onedrive.com" aria-hidden="true"></a>
        </li>
        <li><a class="ms-Icon ms-Icon--SkypeLogo" target="_blank" href="https://skype.com" aria-hidden="true"></a></li>
        <li><a class="ms-Icon ms-Icon--StoreLogo16" target="_blank" href="https://store.microsoft.com"
               aria-hidden="true"></a>
        </li>
        <li><a class="ms-Icon ms-Icon--WindowsLogo" target="_blank" href="https://windows.com" aria-hidden="true"></a>
        </li>
      </ul>
    </header>

    <div id="content">
      <main id="jobs">
        <div class="section-heading-container">
          <h1 id="jobs-heading" class="section-heading">
            <span>{{#if singleResult}}One match{{else}}{{resultsCount}} matches{{/if}} after</span
            ><span id="filter-after-year" class="filter-after-input" contenteditable>{{afterYear}}</span>&ndash;<span
            id="filter-after-month" class="filter-after-input" contenteditable>{{afterMonth}}</span>&ndash;<span
            id="filter-after-day" class="filter-after-input" contenteditable>{{afterDay}}</span>
          </h1>
          <button id="pane-toggle-button" class="btn">Filter</button>
        </div>
        {{#each jobs}}
          <article class="job">
            <div class="job-left">
              <div class="job-head">
                <h1 class="job-title"><a class="job-title-link" href="{{URL}}" target="_blank">{{title}}</a></h1>
                <h2 class="job-location">{{location}}</h2>
              </div>
              <!-- Descriptions are HTML encoded -->
              <p class="job-description">{{{description}}}&hellip;</p>
            </div>
            <div class="job-right">
              <time class="job-date" datetime="{{date}}">{{humanDate}}</time>
            </div>
          </article>
        {{/each}}
      </main>

      <aside id="pane" {{#if noResults}}class="pane-open"{{/if}}>
        <form id="filter-form" method="get">
          <div class="section-heading-container">
            <h1 class="section-heading">Filter</h1>
            <button class="btn btn-teal">Search</button>
          </div>

          {{#each rules}}
            <div class="search-category">
              <div class="search-category-head">
                <h3>Filter by {{field}}</h3>

                <div>
                  <button type="button" data-field="{{field}}" class="search-category-button" value="add"><i
                    class="ms-Icon ms-Icon--Add"></i></button>
                </div>
              </div>

              <ul class="search-terms">
                <!-- TODO This and template has whitespace around each li,
                which causes :empty styling to fail -->
                {{#each terms}}
                  <li class="search-term">
                    <select class="search-term-mode" name="rules_{{../field}}_mode[]" data-value="{{mode}}">
                      <option value="require">Must contain</option>
                      <option value="contain">Has any of</option>
                      <option value="exclude">Does not have</option>
                    </select>
                    <input class="ipt-text search-term-words" name="rules_{{../field}}_words[]" value="{{words}}"
                           placeholder="Enter space-separated words">
                    <button type="button" class="search-term-button" value="delete"><i
                      class="ms-Icon ms-Icon--Delete"></i></button>
                  </li>
                {{/each}}
              </ul>
            </div>
          {{/each}}

          <template id="template-search-term">
            <li class="search-term">
              <select class="search-term-mode" name="rules_<FIELD>_mode[]" data-value="{{mode}}">
                <option value="require">Must contain</option>
                <option value="contain">Has any of</option>
                <option value="exclude">Does not have</option>
              </select>
              <input class="ipt-text search-term-words" name="rules_<FIELD>_words[]" value="{{words}}"
                     placeholder="Enter space-separated words">
              <button type="button" class="search-term-button" value="delete"><i class="ms-Icon ms-Icon--Delete"></i>
              </button>
            </li>
          </template>

          <div class="section-heading-container">
            <h1 class="section-heading">Share</h1>
          </div>

          <p class="msg msg-info">
            Want to save or share your search? It's all in the URL.
          </p>
        </form>
      </aside>
    </div>
  </body>
</html>
